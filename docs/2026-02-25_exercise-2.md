#### Øving 2.1
1. Legg til ei `application.properties`-fil i `src/main/resources` i `spring-plain`.
```ini
mocktail.bar-name=Bar1
mocktail.max-ingredients=8
```

2. Legg til kode i MocktailApplication.java (framleis `spring-plain`):
```java
var propSource = new ResourcePropertySource("classpath:application.properties");

System.out.println("Kjelder registrerte:");
System.out.println(" - " + propSource.getName());
System.out.println();
System.out.println("bar-name: " + propSource.getProperty("mocktail.bar-name"));
System.out.println("max-ingredients: " + propSource.getProperty("mocktail.max-ingredients"));
```

3. Populer konteksten sin `Environment` manuelt med verdiane frå properties:
```java
context.getEnvironment().getPropertySources().addLast(propSource);

// No kan Environment finne verdiane
System.out.println(context.getEnvironment().getProperty("mocktail.bar-name"));
```

4. Sjå at `Environment` eigentleg berre itererar gjennom ei liste av kjelder i prioritert rekkefølge:
```java
for (PropertySource<?> source : context.getEnvironment().getPropertySources()) {
    System.out.println(" - " + source.getName() + " (" + source.getClass().getSimpleName() + ")");
}
```

5. Fjern koden frå 2.2 - 2.4, og lag ein klasse som les verdiane i properties-fila manuelt inn via `Environment`-abstraksjonen.
```java
public class BarConfig {
    private final String barName;
    private final int maxIngredients;

    public BarConfig(Environment env) {
        this.barName = env.getProperty("mocktail.bar-name", "Ukjend");
        this.maxIngredients = Integer.parseInt(
            env.getProperty("mocktail.max-ingredients", "5"));
    }
}
```
6. Registrer PropertySource og bønna i main:
```java
context.getEnvironment().getPropertySources()
    .addLast(new ResourcePropertySource("classpath:mocktail.properties"));
context.registerBean(BarConfig.class,
    () -> new BarConfig(context.getEnvironment()));
```

7. Sjekk at koden fungerar.
8. I `spring-boot`-modulen: Legg same verdiar i application.yml og bruk @ConfigurationProperties til å lesa dei inn:
```java
@ConfigurationProperties(prefix = "mocktail")
public record BarProperties(String barName, int maxIngredients) {}
```
9. Aktiver med `@EnableConfigurationProperties(BarProperties.class)` i applikasjonsklassen.
10. Samanlikn tilnærmingane, kva for ein er "sikrast"? (`@ConfigurationProperties` for type-sikker binding.)
- Manuell property-registrering ift. "convention over configuration"

#### Øving 2.2: Profilspesifikke filer (`application-dev.yml`) og `spring.profiles.active`
Scenario: Baren har ulike menyar for sommar og vinter, og me vil representera dette vha. Spring-profilar.

1. `spring-plain`: Lag to konfigurasjonar:
```java
public class SummerMenuConfig {
    public List<String> defaultMocktails() {
        return List.of("Virgin Mojito", "Frozen Strawberry Daiquiri");
    }
}
```

```java
public class WinterMenuConfig {
    public List<String> defaultMocktails() {
        return List.of("Hot Apple Cider", "Varm Ginger Drink");
    }
}
```
2. Korleis ville de valt mellom desse? Ein er jo overflødig?
```java
context.registerBean("summerMenu", SummerMenuConfig.class);
context.registerBean("winterMenu", WinterMenuConfig.class);
```
3. (Svaret er profilar.) Gjer profilsjekken i MocktailApplication.java:
```java
String[] activeProfiles = context.getEnvironment().getActiveProfiles();

if (Arrays.asList(activeProfiles).contains("summer")) {
    context.registerBean(SummerMenuConfig.class);
} else if (Arrays.asList(activeProfiles).contains("winter")) {
    context.registerBean(WinterMenuConfig.class);
}
```
4. Aktiver rett profil og registrer rett bønne manuelt:
```java
context.getEnvironment().setActiveProfiles("summer");
```
5. Sjekk at profilane funkar. _Korleis gjer me det?_

6. I `spring-boot`: Registrer profil-konfigurasjonar:
```java
@Configuration
@Profile("summer")
public class SummerMenuConfig {
    @Bean
    public List<String> defaultMocktails() {
        return List.of("Virgin Mojito", "Frozen Strawberry Daiquiri");
    }
}
```
6. Sjekk at profilane funkar.
7. Samanlikn modulane.
- Kvifor profilmekanisma er den same under panseret – Spring Boot gjer det berre enklare å bruka.